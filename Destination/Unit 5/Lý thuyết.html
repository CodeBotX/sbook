<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ngữ pháp Tiếng Anh: Quá khứ Hoàn thành Đơn và Tiếp diễn</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Open Sans', sans-serif;
            background-color: #f0f2f5;
            line-height: 1.6;
            color: #333;
            padding-bottom: 50px;
        }
        .container-main {
            max-width: 900px;
            margin: 40px auto;
            background-color: #ffffff;
            padding: 35px 45px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
            font-weight: 700;
            padding-bottom: 15px;
            border-bottom: 2px solid #007bff;
        }
        h2 {
            color: #007bff;
            margin-top: 40px;
            margin-bottom: 20px;
            font-weight: 600;
            border-left: 5px solid #007bff;
            padding-left: 15px;
        }
        h3 {
            color: #28a745;
            margin-top: 30px;
            margin-bottom: 15px;
            font-weight: 600;
            border-bottom: 1px solid #28a745;
            padding-bottom: 5px;
            display: inline-block;
        }
        .section-box {
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }
        .form-table, .usage-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            margin-bottom: 25px;
        }
        .form-table th, .form-table td,
        .usage-table th, .usage-table td {
            border: 1px solid #dee2e6;
            padding: 12px;
            text-align: left;
            vertical-align: top;
        }
        .form-table th, .usage-table th {
            background-color: #e9ecef;
            font-weight: 600;
            color: #34495e;
            width: 33%;
        }
        .usage-table th {
            width: 20%;
        }
        .usage-table td {
            width: 40%;
        }
        .example {
            font-style: italic;
            color: #5a5a5a;
        }
        .highlight {
            font-weight: bold;
            color: #dc3545;
        }
        .helpful-hints {
            background-color: #ffeeba;
            border-left: 5px solid #ffc107;
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
        }
        .helpful-hints ul {
            list-style-type: disc;
            padding-left: 20px;
            margin-bottom: 0;
        }
        .helpful-hints li {
            margin-bottom: 8px;
            color: #6a6a6a;
        }
        .watch-out {
            background-color: #d1ecf1;
            border-left: 5px solid #00a0d2;
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
            font-size: 0.95em;
        }
        .watch-out ul {
            list-style-type: none;
            padding-left: 0;
            margin-bottom: 0;
        }
        .watch-out li {
            margin-bottom: 8px;
            color: #0c5460;
        }
        .watch-out li::before {
            content: "⚠️ ";
        }

        @media (max-width: 768px) {
            .container-main {
                margin: 20px 10px;
                padding: 20px;
            }
            .form-table, .usage-table {
                font-size: 0.9em;
            }
            .form-table th, .form-table td,
            .usage-table th, .usage-table td {
                padding: 8px;
            }
            .form-table th, .usage-table th {
                width: auto;
            }
        }
    </style>
</head>
<body>
    <div class="container container-main">
        <h1>Ngữ pháp Tiếng Anh: Quá khứ Hoàn thành Đơn và Tiếp diễn</h1>
        <p class="lead text-center text-muted">Chào mừng bạn đến với bài học chuyên sâu về thì Quá khứ Hoàn thành Đơn (Past Perfect Simple) và Quá khứ Hoàn thành Tiếp diễn (Past Perfect Continuous) trong tiếng Anh.</p>

        <div class="section-box">
            <h2>1. Thì Quá khứ Hoàn thành Đơn (Past Perfect Simple)</h2>
            <p>Thì Quá khứ Hoàn thành Đơn được sử dụng để diễn tả một hành động đã xảy ra và hoàn thành **trước** một hành động khác hoặc một thời điểm cụ thể trong quá khứ.</p>

            <h3>1.1. Cấu trúc (Form)</h3>
            <table class="form-table">
                <thead>
                    <tr>
                        <th>Statement (Khẳng định)</th>
                        <th>Negative (Phủ định)</th>
                        <th>Question (Nghi vấn)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            I/you/he/she/it/we/they <span class="highlight">had ('d)</span> + <span class="highlight">past participle</span> (V3/ed)
                            <br><span class="example">Ví dụ: I'd <span class="highlight">written</span>...</span>
                        </td>
                        <td>
                            I/you/he/she/it/we/they <span class="highlight">had not (hadn't)</span> + <span class="highlight">past participle</span> (V3/ed)
                            <br><span class="example">Ví dụ: I hadn't <span class="highlight">written</span>...</span>
                        </td>
                        <td>
                            <span class="highlight">Had</span> I/you/he/she/it/we/they + <span class="highlight">past participle</span> (V3/ed)?
                            <br><span class="example">Ví dụ: <span class="highlight">Had</span> I <span class="highlight">written</span>?</span>
                        </td>
                    </tr>
                </tbody>
            </table>

            <h3>1.2. Cách dùng (Use)</h3>
            <table class="usage-table">
                <thead>
                    <tr>
                        <th>Use (Cách dùng)</th>
                        <th>Example (Ví dụ)</th>
                        <th>Explanation & Grammar Note (Giải thích & Ghi chú Ngữ pháp)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            **Các hành động và trạng thái xảy ra trước một thời điểm trong quá khứ.**
                            <br>(Actions and states before a moment in the past)
                        </td>
                        <td>
                            <span class="example">I'd <span class="highlight">finished</span> my homework a few minutes before the lesson started.</span>
                            <br><span class="example">Mrs Cross <span class="highlight">had been</span> a teacher for twenty years before she became a head teacher.</span>
                        </td>
                        <td>
                            Thì Quá khứ Hoàn thành Đơn được dùng để chỉ rõ rằng một hành động hoặc trạng thái đã hoàn tất **trước** một sự kiện khác trong quá khứ. Trong ví dụ đầu, việc hoàn thành bài tập xảy ra trước khi buổi học bắt đầu. Trong ví dụ thứ hai, việc làm giáo viên trong 20 năm xảy ra trước khi trở thành hiệu trưởng.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            **Các hành động và trạng thái đã hoàn thành mà điều quan trọng là kết quả tại một thời điểm trong quá khứ.**
                            <br>(Finished actions and states where the important thing is the result at a moment in the past)
                        </td>
                        <td>
                            <span class="example">We were happy because we'd all <span class="highlight">done</span> our homework.</span>
                        </td>
                        <td>
                            Ở đây, việc hoàn thành bài tập về nhà (xảy ra trước) là nguyên nhân dẫn đến trạng thái "vui" của họ tại một thời điểm trong quá khứ. Kết quả của hành động đã hoàn thành trước đó là điều quan trọng.
                        </td>
                    </tr>
                </tbody>
            </table>

            <div class="helpful-hints">
                <p><strong>Lưu ý hữu ích (Helpful hints):</strong></p>
                <ul>
                    <li>Thì Quá khứ Hoàn thành Đơn thường được dùng với các từ và cụm từ sau:
                        <ul>
                            <li><span class="highlight">by</span> (trước/vào lúc): I'd <span class="highlight">finished</span> my homework <span class="highlight">by</span> eight o'clock.</li>
                            <li><span class="highlight">by the time</span> (vào lúc mà): <span class="highlight">By the time</span> I got to class, the lesson <span class="highlight">had started</span>.</li>
                            <li><span class="highlight">before</span> (trước khi): The teacher <span class="highlight">had checked</span> the answers <span class="highlight">before</span> the lesson.</li>
                            <li><span class="highlight">after</span> (sau khi): I <span class="highlight">left</span> <span class="highlight">after</span> I'd <span class="highlight">finished</span> the test.</li>
                            <li><span class="highlight">just</span> (vừa mới): Simon <span class="highlight">had just finished</span> the test when the bell rang.</li>
                            <li><span class="highlight">when</span> (khi): I <span class="highlight">left</span> <span class="highlight">when</span> I'd <span class="highlight">finished</span> the test.</li>
                        </ul>
                    </li>
                </ul>
            </div>

            <div class="watch-out">
                <ul>
                    <li><span class="highlight">Cẩn trọng (Watch out)!</span> Việc chúng ta sử dụng thì Quá khứ Đơn hay Quá khứ Hoàn thành Đơn có thể thay đổi ý nghĩa của câu.
                        <ul>
                            <li>Ví dụ: The lesson <span class="highlight">started</span> when I <span class="highlight">arrived</span>. (Buổi học bắt đầu khi tôi đến.) $\rightarrow$ (Tôi đến và sau đó buổi học bắt đầu.)</li>
                            <li>Ví dụ: The lesson <span class="highlight">had started</span> when I <span class="highlight">arrived</span>. (Buổi học đã bắt đầu khi tôi đến.) $\rightarrow$ (Buổi học bắt đầu và sau đó tôi đến.)</li>
                        </ul>
                    </li>
                    <li>Một số động từ có dạng quá khứ phân từ bất quy tắc. (Xem trang 182 sách giáo trình của bạn để biết thêm chi tiết về động từ bất quy tắc.)</li>
                </ul>
            </div>
        </div>

        <div class="section-box">
            <h2>2. Thì Quá khứ Hoàn thành Tiếp diễn (Past Perfect Continuous)</h2>
            <p>Thì Quá khứ Hoàn thành Tiếp diễn được sử dụng để diễn tả một hành động đã và đang tiếp diễn cho đến, hoặc dừng lại ngay trước, một thời điểm trong quá khứ. Thì này thường nhấn mạnh quá trình của hành động.</p>

            <h3>2.1. Cấu trúc (Form)</h3>
            <table class="form-table">
                <thead>
                    <tr>
                        <th>Statement (Khẳng định)</th>
                        <th>Negative (Phủ định)</th>
                        <th>Question (Nghi vấn)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            I/you/he/she/it/we/they <span class="highlight">had ('d) been</span> + <span class="highlight">V-ing</span>
                            <br><span class="example">Ví dụ: I'd <span class="highlight">been writing</span>...</span>
                        </td>
                        <td>
                            I/you/he/she/it/we/they <span class="highlight">had not (hadn't) been</span> + <span class="highlight">V-ing</span>
                            <br><span class="example">Ví dụ: I hadn't <span class="highlight">been writing</span>...</span>
                        </td>
                        <td>
                            <span class="highlight">Had</span> I/you/he/she/it/we/they + <span class="highlight">been</span> + <span class="highlight">V-ing</span>?
                            <br><span class="example">Ví dụ: <span class="highlight">Had</span> I <span class="highlight">been writing</span>?</span>
                        </td>
                    </tr>
                </tbody>
            </table>

            <h3>2.2. Cách dùng (Use)</h3>
            <table class="usage-table">
                <thead>
                    <tr>
                        <th>Use (Cách dùng)</th>
                        <th>Example (Ví dụ)</th>
                        <th>Explanation & Grammar Note (Giải thích & Ghi chú Ngữ pháp)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            **Các hành động tiếp diễn cho đến, hoặc dừng lại ngay trước, một thời điểm trong quá khứ.**
                            <br>(Actions continuing up to, or stopping just before, a moment in the past)
                        </td>
                        <td>
                            <span class="example">We'd <span class="highlight">been doing</span> grammar exercises for over an hour, so we were really bored!</span>
                            <br><span class="example">They had a break because they'd <span class="highlight">been working</span> so hard.</span>
                        </td>
                        <td>
                            Thì Quá khứ Hoàn thành Tiếp diễn nhấn mạnh quá trình hoặc thời gian mà một hành động đã diễn ra liên tục cho đến một điểm trong quá khứ. Kết quả của hành động (như "bored" hoặc "had a break") thường là do hành động liên tục đó gây ra.
                        </td>
                    </tr>
                </tbody>
            </table>

            <div class="helpful-hints">
                <p><strong>Lưu ý hữu ích (Helpful hints):</strong></p>
                <ul>
                    <li>Thì Quá khứ Hoàn thành Tiếp diễn thường được dùng với các từ và cụm từ sau:
                        <ul>
                            <li><span class="highlight">for</span> (trong vòng): Tony <span class="highlight">had been studying</span> <span class="highlight">for</span> hours, so he had a headache.</li>
                            <li><span class="highlight">since</span> (kể từ khi): She'd <span class="highlight">been hoping</span> to win the competition <span class="highlight">since</span> the summer.</li>
                            <li><span class="highlight">before</span> (trước khi): We'd <span class="highlight">been talking</span> about the Internet <span class="highlight">before</span> the lesson started.</li>
                            <li><span class="highlight">all day/night/etc</span> (cả ngày/đêm/v.v.): I'd <span class="highlight">been studying</span> <span class="highlight">all day</span>.</li>
                        </ul>
                    </li>
                </ul>
            </div>

            <div class="watch-out">
                <ul>
                    <li><span class="highlight">Cẩn trọng (Watch out)!</span>
                        <ul>
                            <li>Thì Quá khứ Hoàn thành Đơn thường nhấn mạnh <span class="highlight">kết quả</span> của một hành động:
                                <ul>
                                    <li>Ví dụ: She'd <span class="highlight">written</span> an article for the school newspaper. (= She'd finished it.)</li>
                                </ul>
                            </li>
                            <li>Thì Quá khứ Hoàn thành Tiếp diễn thường nhấn mạnh <span class="highlight">hành động</span> và <span class="highlight">thời gian đã dành cho hành động đó</span>, hơn là kết quả:
                                <ul>
                                    <li>Ví dụ: She'd <span class="highlight">been writing</span> an article for the newspaper. (= She'd started, but she hadn't finished it.)</li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>

        <div class="alert alert-info text-center mt-5" role="alert">
            Bạn có thể thực hành các bài tập về thì này trong các phần tương ứng của tài liệu của bạn.
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>