<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√†i T·∫≠p Ng·ªØ Ph√°p A1: M·ªánh ƒë·ªÅ quan h·ªá x√°c ƒë·ªãnh & Used To V (Tr·∫Øc nghi·ªám)</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif; /* S·ª≠ d·ª•ng font Inter */
            background-color: #f0f2f5;
            padding-top: 30px;
        }
        .container {
            max-width: 850px;
            background-color: #ffffff;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            border: 1px solid #e0e0e0;
        }
        h1 {
            color: #1a73e8; /* M√†u xanh Google */
            margin-bottom: 25px;
            font-weight: 700;
            text-align: center;
        }
        .lead {
            color: #5f6368;
            margin-bottom: 30px;
            text-align: center;
        }
        .question-section {
            margin-bottom: 40px;
            padding: 25px;
            background-color: #f8faff; /* N·ªÅn xanh nh·∫°t h∆°n */
            border: 1px solid #dcdfe4;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }
        .question-section h3 {
            color: #3c4043;
            margin-bottom: 20px;
            font-weight: 600;
            border-bottom: 2px solid #e8eaed;
            padding-bottom: 10px;
        }
        .question-item {
            margin-bottom: 25px;
            padding: 15px;
            background-color: #ffffff;
            border-radius: 8px;
            border: 1px solid #eceff1;
        }
        .question-item label {
            font-weight: 500;
            margin-bottom: 10px;
            display: block;
            color: #202124;
            font-size: 1.05rem;
        }
        .form-check {
            margin-bottom: 8px;
        }
        .form-check-input {
            margin-right: 8px;
        }
        .form-check-label {
            font-size: 0.95rem;
            color: #3c4043;
        }
        .instructions {
            font-style: italic;
            margin-bottom: 25px;
            color: #70757a;
            padding: 10px 15px;
            background-color: #e6f4f1;
            border-left: 5px solid #34a853;
            border-radius: 5px;
        }
        .feedback {
            margin-top: 10px;
            padding: 10px;
            border-radius: 6px;
            font-weight: bold;
            display: none; /* Hidden by default */
        }
        .feedback.correct {
            background-color: #e6ffed;
            color: #1e8449;
            border: 1px solid #34a853;
        }
        .feedback.incorrect {
            background-color: #ffebe6;
            color: #c53929;
            border: 1px solid #ea4335;
        }
        .explanation {
            margin-top: 10px;
            padding: 10px 15px;
            background-color: #f2f2f2;
            border-left: 4px solid #aab7b8;
            border-radius: 6px;
            font-size: 0.9rem;
            color: #5f6368;
            display: none; /* Hidden by default */
        }
        .btn-primary {
            background-color: #1a73e8;
            border-color: #1a73e8;
            padding: 12px 25px;
            font-size: 1.1rem;
            border-radius: 8px;
            transition: background-color 0.3s ease, border-color 0.3s ease;
        }
        .btn-primary:hover {
            background-color: #1764cc;
            border-color: #1764cc;
        }
        .btn-secondary {
            background-color: #6c757d;
            border-color: #6c757d;
            padding: 12px 25px;
            font-size: 1.1rem;
            border-radius: 8px;
            transition: background-color 0.3s ease, border-color 0.3s ease;
            margin-left: 10px;
        }
        .btn-secondary:hover {
            background-color: #5a6268;
            border-color: #545b62;
        }
        .d-grid {
            margin-top: 30px;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1 class="text-center">B√†i T·∫≠p Ng·ªØ Ph√°p A1</h1>
        <p class="lead text-center">Tr·∫Øc nghi·ªám v·ªÅ M·ªánh ƒë·ªÅ quan h·ªá x√°c ƒë·ªãnh (Defining Relative Clauses) & Used to V</p>
        <hr>

        <form id="grammarQuizForm">
            <!-- Ph·∫ßn b√†i t·∫≠p Defining Relative Clauses -->
            <div class="question-section">
                <h3>Ph·∫ßn 1: M·ªánh ƒë·ªÅ quan h·ªá x√°c ƒë·ªãnh (Defining Relative Clauses)</h3>
                <p class="instructions">Ch·ªçn ƒë√°p √°n ƒë√∫ng nh·∫•t (A, B, C ho·∫∑c D) ƒë·ªÉ ho√†n th√†nh c√°c c√¢u.</p>
                <div id="part1-questions">
                    <!-- Questions will be dynamically loaded here -->
                </div>
            </div>

            <!-- Ph·∫ßn b√†i t·∫≠p Used to V -->
            <div class="question-section">
                <h3>Ph·∫ßn 2: Used to V</h3>
                <p class="instructions">Ch·ªçn c√¢u vi·∫øt l·∫°i ƒë√∫ng nh·∫•t, s·ª≠ d·ª•ng c·∫•u tr√∫c **used to + ƒë·ªông t·ª´ nguy√™n m·∫´u**, n√≥i v·ªÅ nh·ªØng th√≥i quen/tr·∫°ng th√°i trong qu√° kh·ª© ƒë√£ kh√¥ng c√≤n ti·∫øp di·ªÖn ·ªü hi·ªán t·∫°i.</p>
                <div id="part2-questions">
                    <!-- Questions will be dynamically loaded here -->
                </div>
            </div>

            <div class="d-grid gap-2 d-md-flex justify-content-md-center">
                <button class="btn btn-primary" type="button" onclick="submitQuiz()">N·ªôp b√†i</button>
                <button class="btn btn-secondary" type="button" onclick="resetQuiz()">L√†m l·∫°i</button>
            </div>
        </form>
    </div>

    <!-- Bootstrap JS v√† Popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
    <script>
        // D·ªØ li·ªáu c√¢u h·ªèi cho Ph·∫ßn 1: M·ªánh ƒë·ªÅ quan h·ªá x√°c ƒë·ªãnh
        const questionsPart1 = [
            {
                id: "q1",
                text: "1. This is the cat ______ likes to sleep all day.",
                options: {
                    a: "who",
                    b: "which",
                    c: "where",
                    d: "when"
                },
                correct: "b", // Correct: which (or that)
                explanation: "ƒê·ªÉ ch·ªâ v·∫≠t (the cat), ch√∫ng ta d√πng 'which' ho·∫∑c 'that'. ·ªû ƒë√¢y 'which' l√† l·ª±a ch·ªçn ƒë√∫ng ƒë·ªÉ thay th·∫ø cho v·∫≠t l√†m ch·ªß ng·ªØ trong m·ªánh ƒë·ªÅ quan h·ªá."
            },
            {
                id: "q2",
                text: "2. She is the teacher ______ teaches us English.",
                options: {
                    a: "which",
                    b: "whose",
                    c: "who",
                    d: "where"
                },
                correct: "c", // Correct: who (or that)
                explanation: "ƒê·ªÉ ch·ªâ ng∆∞·ªùi (the teacher), ch√∫ng ta d√πng 'who' ho·∫∑c 'that'. ·ªû ƒë√¢y 'who' l√† l·ª±a ch·ªçn ƒë√∫ng ƒë·ªÉ thay th·∫ø cho ng∆∞·ªùi l√†m ch·ªß ng·ªØ trong m·ªánh ƒë·ªÅ quan h·ªá."
            },
            {
                id: "q3",
                text: "3. I visited the park ______ we had a picnic last summer.",
                options: {
                    a: "which",
                    b: "who",
                    c: "where",
                    d: "what"
                },
                correct: "c", // Correct: where
                explanation: "ƒê·ªÉ ch·ªâ n∆°i ch·ªën (the park) m√† h√†nh ƒë·ªông (we had a picnic) di·ªÖn ra, ch√∫ng ta d√πng 'where'."
            },
            {
                id: "q4",
                text: "4. The book ______ I read was very interesting.",
                options: {
                    a: "who",
                    b: "where",
                    c: "when",
                    d: "which"
                },
                correct: "d", // Correct: which (or that)
                explanation: "ƒê·ªÉ ch·ªâ v·∫≠t (the book) l√†m t√¢n ng·ªØ trong m·ªánh ƒë·ªÅ quan h·ªá, ch√∫ng ta d√πng 'which' ho·∫∑c 'that'. ·ªû ƒë√¢y 'which' l√† l·ª±a ch·ªçn ƒë√∫ng."
            },
            {
                id: "q5",
                text: "5. He is the man ______ lives next door to me.",
                options: {
                    a: "which",
                    b: "who",
                    c: "where",
                    d: "what"
                },
                correct: "b", // Correct: who (or that)
                explanation: "ƒê·ªÉ ch·ªâ ng∆∞·ªùi (the man) l√†m ch·ªß ng·ªØ trong m·ªánh ƒë·ªÅ quan h·ªá, ch√∫ng ta d√πng 'who' ho·∫∑c 'that'. ·ªû ƒë√¢y 'who' l√† l·ª±a ch·ªçn ƒë√∫ng."
            },
            {
                id: "q6",
                text: "6. This is the restaurant ______ serves the best pizza.",
                options: {
                    a: "who",
                    b: "where",
                    c: "what",
                    d: "which"
                },
                correct: "d", // Correct: which (or that)
                explanation: "Trong c√¢u n√†y, 'the restaurant' ƒë∆∞·ª£c b·ªï nghƒ©a nh∆∞ m·ªôt v·∫≠t th·ªÉ ('c√°i nh√† h√†ng') l√†m ch·ªß ng·ªØ cho h√†nh ƒë·ªông 'serves'. V√¨ v·∫≠y, 'which' (ho·∫∑c 'that') l√† ph√π h·ª£p nh·∫•t. 'Where' s·∫Ω ƒë∆∞·ª£c d√πng n·∫øu m·ªánh ƒë·ªÅ quan h·ªá m√¥ t·∫£ h√†nh ƒë·ªông di·ªÖn ra *t·∫°i* ƒë·ªãa ƒëi·ªÉm ƒë√≥ (v√≠ d·ª•: 'This is the restaurant where we often eat pizza')."
            },
            {
                id: "q7",
                text: "7. I like movies ______ have happy endings.",
                options: {
                    a: "who",
                    b: "where",
                    c: "which",
                    d: "when"
                },
                correct: "c", // Correct: which (or that)
                explanation: "ƒê·ªÉ ch·ªâ v·∫≠t (movies) l√†m ch·ªß ng·ªØ trong m·ªánh ƒë·ªÅ quan h·ªá, ch√∫ng ta d√πng 'which' ho·∫∑c 'that'. ·ªû ƒë√¢y 'which' l√† l·ª±a ch·ªçn ƒë√∫ng."
            },
            {
                id: "q8",
                text: "8. The girl ______ is wearing a red hat is my sister.",
                options: {
                    a: "which",
                    b: "who",
                    c: "where",
                    d: "what"
                },
                correct: "b", // Correct: who (or that)
                explanation: "ƒê·ªÉ ch·ªâ ng∆∞·ªùi (the girl) l√†m ch·ªß ng·ªØ trong m·ªánh ƒë·ªÅ quan h·ªá, ch√∫ng ta d√πng 'who' ho·∫∑c 'that'. ·ªû ƒë√¢y 'who' l√† l·ª±a ch·ªçn ƒë√∫ng."
            },
            {
                id: "q9",
                text: "9. London is the city ______ I want to visit next year.",
                options: {
                    a: "which",
                    b: "who",
                    c: "where",
                    d: "when"
                },
                correct: "c", // Correct: where
                explanation: "ƒê·ªÉ ch·ªâ n∆°i ch·ªën (London, the city) m√† b·∫°n mu·ªën ƒë·∫øn thƒÉm (m·ªôt h√†nh ƒë·ªông di·ªÖn ra t·∫°i ƒë√≥), ch√∫ng ta d√πng 'where'."
            },
            {
                id: "q10",
                text: "10. I bought a phone ______ is very easy to use.",
                options: {
                    a: "who",
                    b: "where",
                    c: "which",
                    d: "when"
                },
                correct: "c", // Correct: which (or that)
                explanation: "ƒê·ªÉ ch·ªâ v·∫≠t (a phone) l√†m ch·ªß ng·ªØ trong m·ªánh ƒë·ªÅ quan h·ªá, ch√∫ng ta d√πng 'which' ho·∫∑c 'that'. ·ªû ƒë√¢y 'which' l√† l·ª±a ch·ªçn ƒë√∫ng."
            }
        ];

        // D·ªØ li·ªáu c√¢u h·ªèi cho Ph·∫ßn 2: Used to V
        const questionsPart2 = [
            {
                id: "q11",
                text: "1. When I was a child, I often played with dolls. (Ch·ªçn c√¢u vi·∫øt l·∫°i ƒë√∫ng nh·∫•t)",
                options: {
                    a: "I used to playing with dolls.",
                    b: "I use to play with dolls.",
                    c: "I used to play with dolls.",
                    d: "I was used to play with dolls."
                },
                correct: "c",
                explanation: "C·∫•u tr√∫c 'used to + ƒë·ªông t·ª´ nguy√™n m·∫´u (bare infinitive)' d√πng ƒë·ªÉ di·ªÖn t·∫£ th√≥i quen ho·∫∑c tr·∫°ng th√°i trong qu√° kh·ª© kh√¥ng c√≤n ·ªü hi·ªán t·∫°i. ƒê√°p √°n 'c' l√† ƒë√∫ng. 'a' sai v√¨ 'playing' (sau 'to' ph·∫£i l√† ƒë·ªông t·ª´ nguy√™n m·∫´u), 'b' sai v√¨ 'use to' (ph·∫£i l√† 'used to'), 'd' sai v√¨ 'was used to' c√≥ nghƒ©a l√† 'ƒë√£ quen v·ªõi' v√† theo sau l√† V-ing ho·∫∑c danh t·ª´."
            },
            {
                id: "q12",
                text: "2. My brother often watched cartoons on TV every morning. (Ch·ªçn c√¢u vi·∫øt l·∫°i ƒë√∫ng nh·∫•t)",
                options: {
                    a: "My brother used to watching cartoons.",
                    b: "My brother use to watch cartoons.",
                    c: "My brother used to watch cartoons.",
                    d: "My brother would watch cartoons."
                },
                correct: "c",
                explanation: "ƒê·ªÉ di·ªÖn t·∫£ th√≥i quen trong qu√° kh·ª© (th∆∞·ªùng xem ho·∫°t h√¨nh), c·∫•u tr√∫c ƒë√∫ng l√† 'used to + ƒë·ªông t·ª´ nguy√™n m·∫´u (watch)'. ƒê√°p √°n 'c' l√† ch√≠nh x√°c. 'Would' c≈©ng c√≥ th·ªÉ d√πng cho th√≥i quen trong qu√° kh·ª© nh∆∞ng 'used to' nh·∫•n m·∫°nh h∆°n vi·ªác th√≥i quen ƒë√≥ ƒë√£ k·∫øt th√∫c."
            },
            {
                id: "q13",
                text: "3. They lived in a small apartment many years ago. (Ch·ªçn c√¢u vi·∫øt l·∫°i ƒë√∫ng nh·∫•t)",
                options: {
                    a: "They used to living in a small apartment.",
                    b: "They used to live in a small apartment.",
                    c: "They use to live in a small apartment.",
                    d: "They were used to live in a small apartment."
                },
                correct: "b",
                explanation: "ƒê·ªÉ di·ªÖn t·∫£ m·ªôt tr·∫°ng th√°i t·ªìn t·∫°i trong qu√° kh·ª© (h·ªç t·ª´ng s·ªëng ·ªü ƒë√≥) m√† gi·ªù kh√¥ng c√≤n, 'used to + ƒë·ªông t·ª´ nguy√™n m·∫´u (live)' l√† c·∫•u tr√∫c ƒë√∫ng."
            },
            {
                id: "q14",
                text: "4. We often went to the beach every summer. (Ch·ªçn c√¢u vi·∫øt l·∫°i ƒë√∫ng nh·∫•t)",
                options: {
                    a: "We used to go to the beach every summer.",
                    b: "We used to going to the beach every summer.",
                    c: "We use to go to the beach every summer.",
                    d: "We are used to go to the beach every summer."
                },
                correct: "a",
                explanation: "ƒê·ªÉ di·ªÖn t·∫£ th√≥i quen th∆∞·ªùng ƒëi bi·ªÉn v√†o m√πa h√® trong qu√° kh·ª©, 'used to go' l√† ch√≠nh x√°c. C√°c ƒë√°p √°n kh√°c sai c·∫•u tr√∫c ho·∫∑c nghƒ©a."
            },
            {
                id: "q15",
                text: "5. She didn't like vegetables when she was young. (Ch·ªçn c√¢u vi·∫øt l·∫°i ƒë√∫ng nh·∫•t)",
                options: {
                    a: "She used to not like vegetables.",
                    b: "She didn't used to like vegetables.",
                    c: "She didn't use to like vegetables.",
                    d: "She wasn't used to like vegetables."
                },
                correct: "c",
                explanation: "·ªû d·∫°ng ph·ªß ƒë·ªãnh c·ªßa 'used to', ch√∫ng ta d√πng 'didn't use to + ƒë·ªông t·ª´ nguy√™n m·∫´u'. L∆∞u √Ω r·∫±ng trong c√¢u ph·ªß ƒë·ªãnh, 'used' tr·ªü th√†nh 'use' (kh√¥ng c√≥ 'd')."
            }
        ];

        // H√†m ƒë·ªÉ t·∫£i v√† hi·ªÉn th·ªã c√¢u h·ªèi
        function loadQuestions() {
            const part1Container = document.getElementById('part1-questions');
            const part2Container = document.getElementById('part2-questions');

            // X√≥a n·ªôi dung c≈©
            part1Container.innerHTML = '';
            part2Container.innerHTML = '';

            // T·∫£i c√¢u h·ªèi Ph·∫ßn 1
            questionsPart1.forEach(q => {
                const questionHtml = `
                    <div class="question-item">
                        <label>${q.text}</label>
                        ${Object.keys(q.options).map(key => `
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="${q.id}" id="${q.id}-${key}" value="${key}">
                                <label class="form-check-label" for="${q.id}-${key}">
                                    ${key.toUpperCase()}. ${q.options[key]}
                                </label>
                            </div>
                        `).join('')}
                        <div class="feedback" id="feedback-${q.id}"></div>
                        <div class="explanation" id="explanation-${q.id}"></div>
                    </div>
                `;
                part1Container.innerHTML += questionHtml;
            });

            // T·∫£i c√¢u h·ªèi Ph·∫ßn 2
            questionsPart2.forEach(q => {
                const questionHtml = `
                    <div class="question-item">
                        <label>${q.text}</label>
                        ${Object.keys(q.options).map(key => `
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="${q.id}" id="${q.id}-${key}" value="${key}">
                                <label class="form-check-label" for="${q.id}-${key}">
                                    ${key.toUpperCase()}. ${q.options[key]}
                                </label>
                            </div>
                        `).join('')}
                        <div class="feedback" id="feedback-${q.id}"></div>
                        <div class="explanation" id="explanation-${q.id}"></div>
                    </div>
                `;
                part2Container.innerHTML += questionHtml;
            });
        }

        // H√†m ki·ªÉm tra ƒë√°p √°n v√† hi·ªÉn th·ªã gi·∫£i th√≠ch
        function submitQuiz() {
            const allQuestions = [...questionsPart1, ...questionsPart2];
            let allCorrect = true;

            allQuestions.forEach(q => {
                const selectedOption = document.querySelector(`input[name="${q.id}"]:checked`);
                const feedbackDiv = document.getElementById(`feedback-${q.id}`);
                const explanationDiv = document.getElementById(`explanation-${q.id}`);

                // ·∫®n feedback v√† explanation c≈©
                feedbackDiv.style.display = 'block';
                explanationDiv.style.display = 'block';
                feedbackDiv.classList.remove('correct', 'incorrect');

                if (selectedOption) {
                    if (selectedOption.value === q.correct) {
                        feedbackDiv.textContent = "ƒê√∫ng r·ªìi! üéâ";
                        feedbackDiv.classList.add('correct');
                    } else {
                        feedbackDiv.textContent = `Sai r·ªìi. ƒê√°p √°n ƒë√∫ng l√† ${q.correct.toUpperCase()}. ‚ùå`;
                        feedbackDiv.classList.add('incorrect');
                        allCorrect = false;
                    }
                } else {
                    feedbackDiv.textContent = "B·∫°n ch∆∞a ch·ªçn ƒë√°p √°n.";
                    feedbackDiv.classList.add('incorrect');
                    allCorrect = false;
                }
                explanationDiv.innerHTML = `<strong>Gi·∫£i th√≠ch:</strong> ${q.explanation}`;
            });

            if (allCorrect) {
                // Optional: You can add a general "Congratulations" message here
                // For A1, per-question feedback might be more useful.
            }
        }

        // H√†m l√†m l·∫°i b√†i
        function resetQuiz() {
            const allQuestions = [...questionsPart1, ...questionsPart2];

            allQuestions.forEach(q => {
                const selectedOption = document.querySelector(`input[name="${q.id}"]:checked`);
                if (selectedOption) {
                    selectedOption.checked = false; // B·ªè ch·ªçn ƒë√°p √°n ƒë√£ ch·ªçn
                }

                const feedbackDiv = document.getElementById(`feedback-${q.id}`);
                const explanationDiv = document.getElementById(`explanation-${q.id}`);

                // ·∫®n feedback v√† explanation
                feedbackDiv.style.display = 'none';
                explanationDiv.style.display = 'none';
                feedbackDiv.classList.remove('correct', 'incorrect');
                feedbackDiv.textContent = '';
                explanationDiv.innerHTML = '';
            });
        }

        // T·∫£i c√¢u h·ªèi khi trang ƒë∆∞·ª£c t·∫£i xong
        document.addEventListener('DOMContentLoaded', loadQuestions);
    </script>
</body>
</html>
